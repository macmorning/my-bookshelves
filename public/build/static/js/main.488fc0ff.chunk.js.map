{"version":3,"sources":["serviceWorker.js","constants/routes.js","components/Session/context.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/SignUp/index.js","components/SignIn/index.js","components/PasswordForget/index.js","components/Scanner/index.js","components/Home/index.js","components/PasswordChange/index.js","components/SignOut/index.js","components/Account/index.js","constants/theme.js","components/App/index.js","index.js"],"names":["Boolean","window","location","hostname","match","SIGN_IN","HOME","AuthUserContext","React","createContext","FirebaseContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","components_Firebase","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","doUpdateEmail","updateEmail","user","uid","db","ref","concat","users","doUpdateInformations","name","updateProfile","displayName","books","limitToLast","maxBooks","doUpdateBook","bookid","book","computedOrderField","series","volume","padStart","title","update","doAddBook","set","needLookup","app","initializeApp","database","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","ROUTES","compose","withRouter","NavigationAuth","classes","className","root","AppBar_default","Toolbar_default","Typography_default","variant","color","grow","IconButton_default","component","Link","to","LibraryBooks_default","AccountBox_default","NavigationNonAuth","position","Button_default","href","withStyles","theme","flexGrow","list","width","Navigation_NavigationAuth","INITIAL_STATE","username","passwordOne","passwordTwo","error","SignUpFormBase","onSubmit","event","_this$state","then","objectSpread","catch","preventDefault","onChange","defineProperty","target","_this$state2","isInvalid","type","placeholder","disabled","message","SignUpForm","SignUp","SignInFormBase","main","CssBaseline_default","Paper_default","paper","Avatar_default","avatar","LockOutlined_default","form","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","id","autoComplete","autoFocus","FormControlLabel_default","control","Checkbox_default","label","submit","Divider_default","link","SignInForm","mixins","gutters","paddingTop","spacing","unit","paddingBottom","display","marginLeft","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","open","PasswordForgetFormBase","handleClose","reason","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","ContentProps","aria-describedby","SnackbarContent_default","success","action","aria-label","close","onClick","Close_default","PasswordForget","backgroundColor","green","PasswordForgetForm","Scanner","_onDetected","bind","assertThisInitialized","Quagga","init","inputStream","constraints","height","facingMode","locator","patchSize","halfSample","numOfWorkers","decoder","readers","locate","err","console","log","start","onDetected","offDetected","stop","result","canvas","dom","overlay","style","HomePage","toggleDrawer","drawerOpen","currentBook","startScan","scanning","stopScan","code","codeResult","isbn","onBookSubmit","showSuccess","onBookAdd","onBookChange","targetName","targetValue","prevState","onISBNChange","onSnackClose","loading","tooltipOpen","table_columns","table_options","onRowClick","rowData","rowMeta","dataIndex","rowsPerPage","rowsPerPageOptions","selectableRows","fixedHeader","filterType","loadBooks","compare","b","orderByChild","on","snapshot","booksObject","val","booksList","keys","map","sort","booksData","forEach","line","attribute","undefined","off","sideList","elevation","build","react_responsive_default","query","imgCol","src","imageURL","alt","author","published","publisher","DialogActions_default","detailsURL","icon","Info_default","Fade_default","in","transitionDelay","unmountOnExit","LinearProgress_default","dist_default","data","getBooksData","columns","options","Drawer_default","anchor","Fab_default","fab","Add_default","Dialog_default","aria-labelledby","maxWidth","DialogTitle_default","DialogContent_default","components_Scanner","withWidth","flexWrap","justifyContent","overflow","palette","background","progress","bottom","right","PasswordChangeForm","TextField_default","_ref","InformationsChangeFormBase","EmailChangeFormBase","emailTwo","test","InformationsChangeForm","EmailChangeForm","PasswordChange","SignOut","createMuiTheme","primary","indigo","secondary","red","contrastThreshold","tonalOffset","BrowserRouter","MuiThemeProvider_default","components_Navigation","Route","exact","path","SignUpPage","SignInPage","PasswordForgetPage","AccountPage","ReactDOM","render","Firebase_context","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.488fc0ff.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/';\r\nexport const ACCOUNT = '/account';\r\nexport const PASSWORD_FORGET = '/pw-forget';","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.maxBooks = 500;\r\n  }\r\n  // *** Auth API ***\r\n\r\n    doCreateUserWithEmailAndPassword = (email, password) =>\r\n        this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n    doSignInWithEmailAndPassword = (email, password) =>\r\n        this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n    doSignOut = () => this.auth.signOut();\r\n\r\n    doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n    doPasswordUpdate = password =>\r\n      this.auth.currentUser.updatePassword(password);\r\n\r\n    doUpdateEmail = (email) => this.auth.currentUser.updateEmail(email);\r\n\r\n \r\n\r\n  // *** User API ***\r\n    user = uid => this.db.ref(`users/${uid}`);\r\n    users = () => this.db.ref('users');\r\n\r\n    doUpdateInformations = (name) => this.auth.currentUser.updateProfile({ displayName: name });\r\n\r\n\r\n  // *** Book API ***\r\n    books = uid => this.db.ref(`bd/${uid}`).limitToLast(this.maxBooks);\r\n    doUpdateBook = (uid, bookid, book) => (book.computedOrderField = (book.series ? book.series + (book.volume ? \"_\" + book.volume.padStart(4, '0') : \"\") : \"\") + \"_\" + book.title) && (this.db.ref(`bd/${uid}/${bookid}`).update(book));\r\n    doAddBook = (uid, bookid) => (this.db.ref(`bd/${uid}/${bookid}`).set({ needLookup: 1}));\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          authUser\r\n            ? this.setState({ authUser })\r\n            : this.setState({ authUser: null });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGN_IN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <Component {...this.props} />\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthUserContext } from '../Session';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  list: {\r\n    width: 250,\r\n  },\r\n});\r\n\r\nfunction Navigation(props) {\r\n  return (\r\n  <AuthUserContext.Consumer>\r\n    {authUser =>\r\n      authUser ? <NavigationAuth {...props} /> : <NavigationNonAuth {...props}/>\r\n    }\r\n  </AuthUserContext.Consumer>\r\n  );\r\n}\r\n\r\nclass NavigationAuth extends React.Component {\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" color=\"inherit\">\r\n              BD Tek\r\n            </Typography>\r\n            \r\n            <div className={classes.grow} />\r\n\r\n            <IconButton color=\"inherit\" component={Link} key=\"Home\" to={ROUTES.HOME}>\r\n              <LibraryBooksIcon/>\r\n            </IconButton>            \r\n            <IconButton color=\"inherit\" component={Link} key=\"Account\" to={ROUTES.ACCOUNT}>\r\n              <AccountBoxIcon/>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction NavigationNonAuth(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n              BD Tek\r\n            </Typography>\r\n            <Button variant=\"contained\" href={ROUTES.SIGN_IN} color=\"primary\">\r\n              Sign In\r\n            </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}\r\n\r\nNavigation.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(Navigation);\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>SignUp</h1>\r\n    <SignUpForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { username, email, passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        // Create a user in your Firebase realtime database\r\n        this.props.firebase\r\n          .user(authUser.user.uid)\r\n          .set({\r\n            username,\r\n            email,\r\n          })\r\n          .then(() => {\r\n            this.setState({ ...INITIAL_STATE });\r\n            this.props.history.push(ROUTES.HOME);\r\n          })\r\n          .catch(error => {\r\n            this.setState({ error });\r\n          });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      error,\r\n    } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' ||\r\n      username === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Full Name\"\r\n        />\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Sign Up\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <p>\r\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n  </p>\r\n);\r\n\r\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };\r\n","import React, { Component } from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Link } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nfunction SignInPage(props) {\r\n  return (\r\n  <div>\r\n    <SignInForm  {...props}></SignInForm>\r\n  </div>\r\n  );\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  }\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n    const { classes } = this.props;\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={this.onChange}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={this.onChange}/>\r\n          </FormControl>\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={isInvalid}\r\n          >\r\n            Sign in\r\n          </Button>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n\r\n        <Divider variant=\"middle\" />\r\n        <Typography className={classes.link} component={Link} to={ROUTES.PASSWORD_FORGET}>Forgot password?</Typography>\r\n        <Typography className={classes.link} component={Link} to={ROUTES.SIGN_UP}>Sign up</Typography>\r\n      </Paper>\r\n</main>\r\n    );\r\n  }\r\n}\r\n\r\nSignInFormBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport { SignInForm };\r\nexport default withStyles(styles)(SignInPage);\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport green from '@material-ui/core/colors/green';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst PasswordForgetPage = (props) => (\r\n  <div>\r\n    <PasswordForgetForm {...props}/>\r\n  </div>\r\n);\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n  open: false\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.setState({ open: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n    const { classes } = this.props;\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Reset Password\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus value={this.state.email} onChange={this.onChange}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={isInvalid}\r\n          >\r\n            Send link\r\n          </Button>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n      </Paper>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={this.state.open}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }} >\r\n          <SnackbarContent\r\n              className={classes.success}\r\n              aria-describedby=\"client-snackbar\"\r\n              message={<span id=\"message-id\">Email sent</span>}\r\n              action={[\r\n                <IconButton\r\n                  key=\"close\"\r\n                  aria-label=\"Close\"\r\n                  color=\"inherit\"\r\n                  className={classes.close}\r\n                  onClick={this.handleClose}\r\n                >\r\n                  <CloseIcon />\r\n                </IconButton>,\r\n              ]}\r\n              />\r\n      </Snackbar>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nPasswordForgetFormBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PasswordForgetPage);\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React from \"react\";\r\nimport Quagga from 'quagga';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Scanner extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this._onDetected = this._onDetected.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"interactive\" className=\"viewport\"/>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Quagga.init({\r\n            inputStream: {\r\n                type : \"LiveStream\",\r\n                constraints: {\r\n                    width: 640,\r\n                    height: 480,\r\n                    facingMode: \"environment\", // or user\r\n                }\r\n            },\r\n            locator: {\r\n                patchSize: \"medium\",\r\n                halfSample: true\r\n            },\r\n            numOfWorkers: 2,\r\n            decoder: {\r\n                readers : [\"ean_reader\"]\r\n            },\r\n            locate: true\r\n        }, function(err) {\r\n            if (err) {\r\n                return console.log(err);\r\n            }\r\n            Quagga.start();\r\n        });\r\n        Quagga.onDetected(this._onDetected);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Quagga.offDetected(this._onDetected);\r\n        Quagga.stop();\r\n    }\r\n\r\n    _onDetected(result) {\r\n        const drawingCanvas = Quagga.canvas.dom.overlay;\r\n        drawingCanvas.style.display = 'none';\r\n        this.props.onDetected(result);\r\n    }\r\n};\r\n\r\nScanner.propTypes = {\r\n    onDetected: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Scanner;","import React, { Component } from 'react';\r\nimport { withAuthorization } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n// import compose from 'recompose/compose';\r\nimport Scanner from '../Scanner';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Column, Row } from 'simple-flexbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport MediaQuery from 'react-responsive';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  icon: {\r\n    color: 'rgba(255, 255, 255, 0.54)',\r\n  },\r\n  progress: {\r\n    margin: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(900 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 900,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    paddingTop: '15px',\r\n    height: '550px',\r\n  },\r\n  form: {\r\n    margin: '10px'\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing.unit * 8,\r\n    right: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      books: [],\r\n      user: \"\",\r\n      tooltipOpen: false,\r\n      drawerOpen: false,\r\n      currentBook: {},\r\n      showSuccess: false,\r\n      scanning: false,\r\n      isbn: \"\"\r\n    };\r\n\r\n    this.table_columns = [\"uid\", \"series\", \"volume\", \"title\", \"author\", \"published\", \"publisher\"];\r\n    this.table_options = {\r\n      onRowClick: (rowData, rowMeta) => { \r\n        console.log(this.state.books);\r\n        console.log(rowMeta.dataIndex);\r\n        console.log(this.state.books[rowMeta.dataIndex]);\r\n        this.setState({\r\n          drawerOpen: true,\r\n          currentBook: this.state.books[rowMeta.dataIndex]\r\n        });\r\n      },\r\n      rowsPerPage: 50,\r\n      rowsPerPageOptions: [20,50,100],\r\n      selectableRows: false,\r\n      fixedHeader: true,\r\n      filterType: \"multiselect\"\r\n    }\r\n\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ user: user.uid });\r\n        this.loadBooks();\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleDrawer = (open, book) => () => {\r\n     this.setState({\r\n      drawerOpen: open,\r\n      currentBook: (book ? book : {})\r\n    });\r\n    console.log(book);\r\n  }\r\n\r\n  startScan = () => {\r\n    this.setState({\r\n      scanning: true\r\n    });\r\n  }\r\n  stopScan = () => {\r\n    this.setState({\r\n      scanning: false\r\n    });\r\n  }\r\n\r\n  loadBooks() {\r\n    let compare = (a,b) => {\r\n      if (a.computedOrderField < b.computedOrderField)\r\n        return -1;\r\n      if (a.computedOrderField > b.computedOrderField)\r\n        return 1;\r\n      return 0;\r\n    }\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.books(this.state.user).orderByChild(\"computedOrderField\").on('value', snapshot => {\r\n      const booksObject = snapshot.val();\r\n      const booksList = Object.keys(booksObject).map(key => ({\r\n        ...booksObject[key],\r\n        uid: key\r\n      }));\r\n      booksList.sort(compare);\r\n      this.setState({\r\n        books: booksList,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  getBooksData() {\r\n    const booksData = [];\r\n    let table_columns = this.table_columns;\r\n    this.state.books.forEach(function(book) {\r\n      let line = [];\r\n      table_columns.forEach(function(attribute) {\r\n          line.push(book[attribute] !== undefined ? book[attribute] : \"\");\r\n      });\r\n      booksData.push(line);\r\n    })\r\n    return booksData;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.books().off();\r\n  }\r\n\r\n\r\n  onDetected = event => {\r\n    let code = event.codeResult.code;\r\n    if (this.state.isbn !== code) {\r\n      this.setState( { isbn: code });\r\n    }\r\n  }\r\n  onBookSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.firebase.doUpdateBook(this.state.user,this.state.currentBook.uid,this.state.currentBook)\r\n    .then(() => {\r\n      this.setState({ \r\n        showSuccess: true,\r\n        drawerOpen: false\r\n       });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n  }\r\n  onBookAdd = event => {\r\n    console.log(\"adding \" + this.state.isbn);\r\n    this.setState({\r\n      scanning: false\r\n    });\r\n    this.props.firebase.doAddBook(this.state.user,this.state.isbn)\r\n    .then(() => {\r\n      this.setState({ \r\n        showSuccess: true,\r\n        drawerOpen: false\r\n       });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n  }\r\n\r\n  onBookChange = event => {\r\n    let targetName = event.target.name;\r\n    let targetValue = event.target.value;\r\n    // Make a copy of the object stored in state before replacing it\r\n    this.setState(prevState => ({\r\n      currentBook: {\r\n          ...prevState.currentBook,\r\n          [targetName]: targetValue\r\n      }\r\n    }));\r\n  };\r\n  onISBNChange = event => {\r\n    let targetValue = event.target.value;\r\n    // Make a copy of the object stored in state before replacing it\r\n    this.setState({ isbn: targetValue});\r\n  }\r\n  onSnackClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    this.setState({ showSuccess: false });\r\n  };\r\n  render() {\r\n    const { loading, currentBook } = this.state; \r\n    const { classes } = this.props;\r\n\r\n    const sideList = (\r\n      <main className={classes.main}>\r\n      <Paper className={classes.root} elevation={2}>\r\n      <Column flexGrow={1}>\r\n        <Row horizontal='center'>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            {currentBook.title}\r\n          </Typography>\r\n        </Row>\r\n        <Row horizontal='start' vertical='start'>\r\n          <MediaQuery query=\"(min-device-width: 1000px)\">\r\n            <Column className={classes.imgCol} flexGrow={1} horizontal='center'>\r\n              <img src={currentBook.imageURL} style={{ height:\"400px\" }} alt=\"\"/>\r\n            </Column>\r\n          </MediaQuery>\r\n          <Column flexGrow={1} alignItems='start'>\r\n            <Row>\r\n              <form className={classes.form} onSubmit={this.onBookSubmit}>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"title\">Title</InputLabel>\r\n                  <Input id=\"title\" value={currentBook.title} name=\"title\" autoComplete=\"title\" onChange={this.onBookChange} autoFocus/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"author\">Author</InputLabel>\r\n                  <Input id=\"author\" value={currentBook.author} name=\"author\" autoComplete=\"author\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"series\">Series</InputLabel>\r\n                  <Input id=\"series\" value={currentBook.series} name=\"series\" autoComplete=\"series\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"volume\">Volume</InputLabel>\r\n                  <Input id=\"volume\" type=\"number\" value={currentBook.volume} name=\"volume\" autoComplete=\"volume\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"published\">Published</InputLabel>\r\n                  <Input id=\"published\" placeholder=\"\" type=\"date\" value={currentBook.published} name=\"published\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"publisher\">Publisher</InputLabel>\r\n                  <Input id=\"publisher\" value={currentBook.publisher} name=\"publisher\" autoComplete=\"publisher\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"imageURL\">Image URL</InputLabel>\r\n                  <Input id=\"imageURL\" value={currentBook.imageURL} name=\"imageURL\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <DialogActions>\r\n                  <Button type=\"submit\" color=\"primary\">\r\n                      Save\r\n                  </Button>\r\n                  <Button onClick={this.toggleDrawer(false)} color=\"secondary\">\r\n                      Close\r\n                  </Button>\r\n                </DialogActions>\r\n              </form>\r\n            </Row>\r\n            <Row vertical='start'>\r\n              <IconButton color=\"secondary\" component=\"a\" target=\"_new\" href={currentBook.detailsURL} className={classes.icon} alt=\"more informations\">\r\n                <InfoIcon/>\r\n              </IconButton>\r\n            </Row>\r\n          </Column>\r\n        </Row>\r\n      </Column>\r\n      </Paper>\r\n      </main>\r\n    );\r\n    \r\n    return (\r\n      <div>\r\n        <Fade\r\n          in={loading}\r\n          style={{\r\n            transitionDelay: loading ? '600ms' : '0ms',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <LinearProgress />\r\n        </Fade>\r\n        <MUIDataTable\r\n          data={ this.getBooksData() }\r\n          columns={this.table_columns}\r\n          options={this.table_options}\r\n        />\r\n        <Drawer classes={{paper: classes.paper}} anchor=\"bottom\" open={this.state.drawerOpen} onClose={this.toggleDrawer(false)}>\r\n            {sideList}\r\n        </Drawer>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={this.state.showSuccess}\r\n          autoHideDuration={3000}\r\n          onClose={this.onSnackClose}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }} >\r\n        <SnackbarContent\r\n              className={classes.success}\r\n              aria-describedby=\"client-snackbar\"\r\n              message={<span id=\"message-id\">Changes saved</span>}\r\n              />\r\n        </Snackbar>\r\n        <Fab color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={this.startScan}>\r\n          <AddIcon />\r\n        </Fab>\r\n\r\n        <Dialog\r\n          open={this.state.scanning}\r\n          onClose={this.stopScan}\r\n          aria-labelledby=\"draggable-dialog-title\"\r\n          maxWidth=\"md\"\r\n        >\r\n          <DialogTitle id=\"draggable-dialog-title\">Scan a new book barcode</DialogTitle>\r\n          <DialogContent>\r\n            <Scanner onDetected={this.onDetected}/>\r\n            <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"isbn\">ISBN</InputLabel>\r\n                  <Input id=\"isbn\" value={this.state.isbn} name=\"isbn\" onChange={this.onISBNChange} autoFocus/>\r\n            </FormControl>\r\n          </DialogContent>\r\n          <DialogActions>\r\n          <Button onClick={this.onBookAdd} color=\"primary\">\r\n              Add\r\n            </Button>\r\n            <Button onClick={this.stopScan} color=\"secondary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n  );\r\n  }\r\n}\r\n\r\n\r\nHomePage.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withWidth()(withStyles(styles)(withFirebase(withAuthorization(condition)(HomePage))));\r\n/*export default compose(\r\n  withFirebase(),\r\n  withStyles(styles),\r\n  withAuthorization(condition),\r\n  withWidth(),\r\n)(HomePage);*/","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          label=\"New Password\"\r\n        />\r\n        <TextField\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          label=\"Confirm New Password\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","import React from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n  <Button variant=\"contained\" color=\"primary\" onClick={firebase.doSignOut}>\r\n    Sign Out\r\n  </Button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React, { Component } from 'react';\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport PasswordChangeForm from '../PasswordChange';\r\nimport { withAuthorization } from '../Session';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SignOutButton from '../SignOut';\r\n\r\nconst AccountPage = () => (\r\n  <AuthUserContext.Consumer>\r\n    {authUser => (\r\n      <div>\r\n        <h1>Account:</h1>\r\n        <PasswordChangeForm />\r\n        <EmailChangeForm user={authUser}/>\r\n        <InformationsChangeForm />\r\n        <SignOutButton />\r\n      </div>\r\n    )}\r\n  </AuthUserContext.Consumer>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  name: '',\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass InformationsChangeFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email, name: user.displayName });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { name } = this.state;\r\n\r\n    this.props.firebase\r\n    .doUpdateInformations(name)\r\n    .then(() => {\r\n      console.log({ ...INITIAL_STATE });\r\n      this.setState({ name: this.props.firebase.auth.currentUser.displayName });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { name, error } = this.state;\r\n\r\n    const isInvalid = name  === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          label=\"Alias\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Update\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nclass EmailChangeFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n    .doUpdateEmail(email)\r\n    .then(() => {\r\n      this.setState({ email: this.props.firebase.auth.currentUser.email });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, emailTwo, error } = this.state;\r\n\r\n    const isInvalid = !(/^.+@.+\\..+$/.test(email)) || email !== emailTwo;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"email\"\r\n          label=\"Your Account Email\"\r\n        />\r\n        <TextField\r\n          name=\"emailTwo\"\r\n          value={emailTwo}\r\n          onChange={this.onChange}\r\n          type=\"email\"\r\n          label=\"Confirm New Email\"\r\n        />        \r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Update\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst InformationsChangeForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(InformationsChangeFormBase);\r\n\r\nconst EmailChangeForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(EmailChangeFormBase);\r\n\r\nconst authCondition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(AccountPage);","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\n// All the following keys are optional.\r\n// We try our best to provide a great default value.\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: indigo,\r\n    secondary: red,\r\n    error: red,\r\n    // Used by `getContrastText()` to maximize the contrast between the background and\r\n    // the text.\r\n    contrastThreshold: 3,\r\n    // Used to shift a color's luminance by approximately\r\n    // two indexes within its tonal palette.\r\n    // E.g., shift from Red 500 to Red 300 or Red 700.\r\n    tonalOffset: 0.2,\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Navigation from '../Navigation';\r\nimport SignUpPage from '../SignUp';\r\nimport SignInPage from '../SignIn';\r\nimport PasswordForgetPage from '../PasswordForget';\r\nimport HomePage from '../Home';\r\nimport AccountPage from '../Account';\r\n// import AdminPage from '../Admin';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport theme from '../../constants/theme';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n// import CssBaseline from '@material-ui/core/CssBaseline';\r\nimport 'typeface-roboto';\r\n\r\n\r\n\r\nconst App = () => (\r\n    <Router>\r\n    <MuiThemeProvider theme={theme}>\r\n      <div>\r\n        <Navigation />\r\n        <div style={{ display: \"block\", height:\"63px\"}}>&nbsp;</div>\r\n        <Route exact path={ROUTES.HOME} component={HomePage} />\r\n        <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n        <Route path={ROUTES.SIGN_IN} component={SignInPage} />\r\n        <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\r\n        <Route path={ROUTES.ACCOUNT} component={AccountPage} />\r\n      </div>\r\n  </MuiThemeProvider>\r\n  </Router>\r\n  );\r\n// <Route path={ROUTES.ADMIN} component={AdminPage} />\r\n\r\nexport default withAuthentication(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}