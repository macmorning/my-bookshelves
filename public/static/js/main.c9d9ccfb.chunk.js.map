{"version":3,"sources":["serviceWorker.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignOut/index.js","constants/routes.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/SignUp/index.js","components/SignIn/index.js","components/PasswordForget/index.js","components/Scanner/index.js","components/Home/index.js","components/PasswordChange/index.js","components/Account/index.js","constants/theme.js","components/App/index.js","index.js"],"names":["Boolean","window","location","hostname","match","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","components_Firebase","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","doUpdateEmail","updateEmail","user","uid","db","ref","concat","users","doUpdateInformations","name","updateProfile","displayName","books","limitToLast","maxBooks","doUpdateBook","bookid","book","computedOrderField","series","volume","padStart","title","update","app","initializeApp","database","_ref","Button_default","variant","color","onClick","SIGN_IN","HOME","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","Session_context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","ROUTES","compose","withRouter","NavigationAuth","classes","className","root","AppBar_default","Toolbar_default","IconButton_default","component","Link","to","LibraryBooks_default","AccountBox_default","Typography_default","grow","react_responsive_default","query","SignOut","NavigationNonAuth","position","href","withStyles","flexGrow","list","width","Navigation_NavigationAuth","INITIAL_STATE","username","passwordOne","passwordTwo","error","SignUpFormBase","onSubmit","event","_this$state","then","set","objectSpread","catch","preventDefault","onChange","defineProperty","target","_this$state2","isInvalid","type","placeholder","disabled","message","SignUpForm","SignUp","SignInFormBase","main","CssBaseline_default","Paper_default","paper","Avatar_default","avatar","LockOutlined_default","form","FormControl_default","margin","required","fullWidth","InputLabel_default","htmlFor","Input_default","id","autoComplete","autoFocus","FormControlLabel_default","control","Checkbox_default","label","submit","Divider_default","link","SignInForm","theme","mixins","gutters","paddingTop","spacing","unit","paddingBottom","display","marginLeft","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","open","PasswordForgetFormBase","handleClose","reason","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","ContentProps","aria-describedby","SnackbarContent_default","success","CheckCircle_default","action","aria-label","close","Close_default","PasswordForget","backgroundColor","green","PasswordForgetForm","Scanner","_onDetected","bind","assertThisInitialized","Quagga","init","inputStream","constraints","height","facingMode","locator","patchSize","halfSample","numOfWorkers","decoder","readers","locate","err","console","log","start","onDetected","offDetected","stop","result","canvas","dom","overlay","style","HomePage","toggleDrawer","drawerOpen","currentBook","startScan","scanning","stopScan","getGridListCols","isWidthUp","code","codeResult","results","indexOf","prevState","toConsumableArray","onBookSubmit","showSuccess","onBookChange","targetName","targetValue","onSnackClose","loading","tooltipOpen","loadBooks","compare","b","orderByChild","on","snapshot","booksObject","val","booksList","keys","map","sort","off","_this3","sideList","elevation","build","imgCol","src","imageURL","alt","autofocus","author","published","publisher","onConBookChangehange","detailsURL","icon","Info_default","Fade_default","in","transitionDelay","unmountOnExit","LinearProgress_default","GridList_default","cellHeight","cols","gridList","GridListTile_default","GridListTileBar_default","subtitle","Drawer_default","anchor","Fab_default","fab","Add_default","Dialog_default","aria-labelledby","maxWidth","DialogTitle_default","DialogContent_default","components_Scanner","DialogActions_default","withWidth","flexWrap","justifyContent","overflow","palette","background","progress","bottom","right","PasswordChangeForm","TextField_default","InformationsChangeFormBase","EmailChangeFormBase","emailTwo","test","InformationsChangeForm","EmailChangeForm","PasswordChange","createMuiTheme","primary","indigo","secondary","red","contrastThreshold","tonalOffset","BrowserRouter","MuiThemeProvider_default","components_Navigation","Route","exact","path","SignUpPage","SignInPage","PasswordForgetPage","AccountPage","ReactDOM","render","context","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c9d9ccfb.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.maxBooks = 50;\r\n  }\r\n  // *** Auth API ***\r\n\r\n    doCreateUserWithEmailAndPassword = (email, password) =>\r\n        this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n    doSignInWithEmailAndPassword = (email, password) =>\r\n        this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n    doSignOut = () => this.auth.signOut();\r\n\r\n    doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n    doPasswordUpdate = password =>\r\n      this.auth.currentUser.updatePassword(password);\r\n\r\n    doUpdateEmail = (email) => this.auth.currentUser.updateEmail(email);\r\n\r\n \r\n\r\n  // *** User API ***\r\n    user = uid => this.db.ref(`users/${uid}`);\r\n    users = () => this.db.ref('users');\r\n\r\n    doUpdateInformations = (name) => this.auth.currentUser.updateProfile({ displayName: name });\r\n\r\n\r\n  // *** Book API ***\r\n    books = uid => this.db.ref(`bd/${uid}`).limitToLast(this.maxBooks);\r\n    doUpdateBook = (uid, bookid, book) => (book.computedOrderField = book.series + \"_\" + book.volume.padStart(4, '0') + \"_\" + book.title) && (this.db.ref(`bd/${uid}/${bookid}`).update(book));\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n  <Button variant=\"contained\" color=\"primary\" onClick={firebase.doSignOut}>\r\n    Sign Out\r\n  </Button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","export const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/';\r\nexport const ACCOUNT = '/account';\r\nexport const PASSWORD_FORGET = '/pw-forget';","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          authUser\r\n            ? this.setState({ authUser })\r\n            : this.setState({ authUser: null });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGN_IN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <Component {...this.props} />\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport SignOutButton from '../SignOut';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthUserContext } from '../Session';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\r\n\r\nconst styles = {\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  list: {\r\n    width: 250,\r\n  }\r\n};\r\n\r\nfunction Navigation(props) {\r\n  return (\r\n  <AuthUserContext.Consumer>\r\n    {authUser =>\r\n      authUser ? <NavigationAuth {...props} /> : <NavigationNonAuth {...props}/>\r\n    }\r\n  </AuthUserContext.Consumer>\r\n  );\r\n}\r\n\r\nclass NavigationAuth extends React.Component {\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton color=\"inherit\" component={Link} key=\"Home\" to={ROUTES.HOME}>\r\n              <LibraryBooksIcon/>\r\n            </IconButton>            \r\n            <IconButton color=\"inherit\" component={Link} key=\"Account\" to={ROUTES.ACCOUNT}>\r\n              <AccountBoxIcon/>\r\n            </IconButton>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n              <MediaQuery query=\"(min-device-width: 1000px)\">\r\n                BD Tek\r\n                </MediaQuery>\r\n            </Typography>\r\n            <SignOutButton />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction NavigationNonAuth(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n              BD Tek\r\n            </Typography>\r\n            <Button variant=\"contained\" href={ROUTES.SIGN_IN} color=\"primary\">\r\n              Sign In\r\n            </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}\r\n\r\nNavigation.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(Navigation);\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>SignUp</h1>\r\n    <SignUpForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { username, email, passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        // Create a user in your Firebase realtime database\r\n        this.props.firebase\r\n          .user(authUser.user.uid)\r\n          .set({\r\n            username,\r\n            email,\r\n          })\r\n          .then(() => {\r\n            this.setState({ ...INITIAL_STATE });\r\n            this.props.history.push(ROUTES.HOME);\r\n          })\r\n          .catch(error => {\r\n            this.setState({ error });\r\n          });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      error,\r\n    } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' ||\r\n      username === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Full Name\"\r\n        />\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Sign Up\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <p>\r\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n  </p>\r\n);\r\n\r\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };\r\n","import React, { Component } from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Link } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nfunction SignInPage(props) {\r\n  return (\r\n  <div>\r\n    <SignInForm  {...props}></SignInForm>\r\n  </div>\r\n  );\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  }\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n    const { classes } = this.props;\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={this.onChange}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={this.onChange}/>\r\n          </FormControl>\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={isInvalid}\r\n          >\r\n            Sign in\r\n          </Button>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n\r\n        <Divider variant=\"middle\" />\r\n        <Typography className={classes.link} component={Link} to={ROUTES.PASSWORD_FORGET}>Forgot password?</Typography>\r\n        <Typography className={classes.link} component={Link} to={ROUTES.SIGN_UP}>Sign up</Typography>\r\n      </Paper>\r\n</main>\r\n    );\r\n  }\r\n}\r\n\r\nSignInFormBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport { SignInForm };\r\nexport default withStyles(styles)(SignInPage);\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport green from '@material-ui/core/colors/green';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst PasswordForgetPage = (props) => (\r\n  <div>\r\n    <PasswordForgetForm {...props}/>\r\n  </div>\r\n);\r\nconst styles = theme => ({\r\n  root: {\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n  open: false\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.setState({ open: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n    const { classes } = this.props;\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n      <CssBaseline />\r\n      <Paper className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Reset Password\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={this.onSubmit}>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus value={this.state.email} onChange={this.onChange}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={isInvalid}\r\n          >\r\n            Send link\r\n          </Button>\r\n        </form>\r\n        {error && <p>{error.message}</p>}\r\n      </Paper>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={this.state.open}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }} >\r\n          <SnackbarContent\r\n              className={classes.success}\r\n              aria-describedby=\"client-snackbar\"\r\n              message={<span id=\"message-id\"><CheckCircleIcon/>Email sent</span>}\r\n              action={[\r\n                <IconButton\r\n                  key=\"close\"\r\n                  aria-label=\"Close\"\r\n                  color=\"inherit\"\r\n                  className={classes.close}\r\n                  onClick={this.handleClose}\r\n                >\r\n                  <CloseIcon />\r\n                </IconButton>,\r\n              ]}\r\n              />\r\n      </Snackbar>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nPasswordForgetFormBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(PasswordForgetPage);\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React from \"react\";\r\nimport Quagga from 'quagga';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Scanner extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this._onDetected = this._onDetected.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"interactive\" className=\"viewport\"/>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Quagga.init({\r\n            inputStream: {\r\n                type : \"LiveStream\",\r\n                constraints: {\r\n                    width: 640,\r\n                    height: 480,\r\n                    facingMode: \"environment\", // or user\r\n                }\r\n            },\r\n            locator: {\r\n                patchSize: \"medium\",\r\n                halfSample: true\r\n            },\r\n            numOfWorkers: 1,\r\n            decoder: {\r\n                readers : [\"ean_reader\"]\r\n            },\r\n            locate: true\r\n        }, function(err) {\r\n            if (err) {\r\n                return console.log(err);\r\n            }\r\n            Quagga.start();\r\n        });\r\n        Quagga.onDetected(this._onDetected);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Quagga.offDetected(this._onDetected);\r\n        Quagga.stop();\r\n    }\r\n\r\n    _onDetected(result) {\r\n        const drawingCanvas = Quagga.canvas.dom.overlay;\r\n        drawingCanvas.style.display = 'none';\r\n        this.props.onDetected(result);\r\n    }\r\n};\r\n\r\nScanner.propTypes = {\r\n    onDetected: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Scanner;","import React, { Component } from 'react';\r\nimport { withAuthorization } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n// import compose from 'recompose/compose';\r\nimport Scanner from '../Scanner';\r\nimport PropTypes from 'prop-types';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Column, Row } from 'simple-flexbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport MediaQuery from 'react-responsive';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n    ...theme.mixins.gutters(),\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2,\r\n  },\r\n  icon: {\r\n    color: 'rgba(255, 255, 255, 0.54)',\r\n  },\r\n  progress: {\r\n    margin: theme.spacing.unit * 2,\r\n  },\r\n  main: {\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(900 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 900,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    paddingTop: '15px',\r\n    height: '550px',\r\n  },\r\n  form: {\r\n    margin: '10px'\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing.unit * 2,\r\n    right: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      books: [],\r\n      user: \"\",\r\n      tooltipOpen: false,\r\n      drawerOpen: false,\r\n      currentBook: {},\r\n      showSuccess: false,\r\n      scanning: false,\r\n      results: []\r\n    };\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ user: user.uid });\r\n        this.loadBooks();\r\n      }\r\n    });\r\n  }\r\n  toggleDrawer = (open, book) => () => {\r\n    console.log(book);\r\n    this.setState({\r\n      drawerOpen: open,\r\n      currentBook: (book ? book : {})\r\n    });\r\n  }\r\n\r\n  startScan = () => {\r\n    this.setState({\r\n      scanning: true\r\n    });\r\n  }\r\n  stopScan = () => {\r\n    this.setState({\r\n      scanning: false\r\n    });\r\n  }\r\n\r\n  getGridListCols = () => {\r\n    if (isWidthUp('xl', this.props.width)) {\r\n      return 6;\r\n    }\r\n    if (isWidthUp('md', this.props.width)) {\r\n      return 4;\r\n    }\r\n    if (isWidthUp('sm', this.props.width)) {\r\n      return 2;\r\n    }\r\n    return 1;\r\n  }\r\n\r\n  loadBooks() {\r\n    let compare = (a,b) => {\r\n      if (a.computedOrderField < b.computedOrderField)\r\n        return -1;\r\n      if (a.computedOrderField > b.computedOrderField)\r\n        return 1;\r\n      return 0;\r\n    }\r\n\r\n\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.books(this.state.user).orderByChild(\"computedOrderField\").on('value', snapshot => {\r\n      const booksObject = snapshot.val();\r\n\r\n      const booksList = Object.keys(booksObject).map(key => ({\r\n        ...booksObject[key],\r\n        uid: key\r\n      }));\r\n      booksList.sort(compare);\r\n      this.setState({\r\n        books: booksList,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.books().off();\r\n  }\r\n\r\n\r\n  onDetected = event => {\r\n    let code = event.codeResult.code;\r\n    if (this.state.results.indexOf(code) === -1) {\r\n      this.setState(prevState => ({\r\n        results: [...prevState.results,code]\r\n      }));\r\n    }\r\n  }\r\n  onBookSubmit = event => {\r\n    console.log(this.state.currentBook);\r\n    event.preventDefault();\r\n    this.props.firebase.doUpdateBook(this.state.user,this.state.currentBook.uid,this.state.currentBook)\r\n    .then(() => {\r\n      this.setState({ \r\n        showSuccess: true,\r\n        drawerOpen: false\r\n       });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n  }\r\n  onBookChange = event => {\r\n    let targetName = event.target.name;\r\n    let targetValue = event.target.value;\r\n    // Make a copy of the object stored in state before replacing it\r\n    this.setState(prevState => ({\r\n      currentBook: {\r\n          ...prevState.currentBook,\r\n          [targetName]: targetValue\r\n      }\r\n    }));\r\n  };\r\n\r\n  onSnackClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    this.setState({ showSuccess: false });\r\n  };\r\n  render() {\r\n    const { books, loading, currentBook } = this.state; \r\n    const { classes } = this.props;\r\n\r\n    const sideList = (\r\n      <main className={classes.main}>\r\n      <Paper className={classes.root} elevation={2}>\r\n      <Column flexGrow={1}>\r\n        <Row horizontal='center'>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            {currentBook.title}\r\n          </Typography>\r\n        </Row>\r\n        <Row horizontal='start' vertical='start'>\r\n          <MediaQuery query=\"(min-device-width: 1000px)\">\r\n            <Column className={classes.imgCol} flexGrow={1} horizontal='center'>\r\n              <img src={currentBook.imageURL} style={{ height:\"400px\" }} alt=\"\"/>\r\n            </Column>\r\n          </MediaQuery>\r\n          <Column flexGrow={1} alignItems='start'>\r\n            <Row>\r\n              <form className={classes.form} onSubmit={this.onBookSubmit}>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"title\">Title</InputLabel>\r\n                  <Input id=\"title\" value={currentBook.title} name=\"title\" autoComplete=\"title\" onChange={this.onBookChange} autofocus/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"author\">Author</InputLabel>\r\n                  <Input id=\"author\" value={currentBook.author} name=\"author\" autoComplete=\"author\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"series\">Series</InputLabel>\r\n                  <Input id=\"series\" value={currentBook.series} name=\"series\" autoComplete=\"series\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"volume\">Volume</InputLabel>\r\n                  <Input id=\"volume\" type=\"number\" value={currentBook.volume} name=\"volume\" autoComplete=\"volume\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"published\">Published</InputLabel>\r\n                  <Input id=\"published\" type=\"date\" value={currentBook.published} name=\"published\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"publisher\">Publisher</InputLabel>\r\n                  <Input id=\"publisher\" value={currentBook.publisher} name=\"publisher\" autoComplete=\"publisher\" onChange={this.onConBookChangehange}/>\r\n                </FormControl>\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"imageURL\">Image URL</InputLabel>\r\n                  <Input id=\"imageURL\" value={currentBook.imageURL} name=\"imageURL\" onChange={this.onBookChange}/>\r\n                </FormControl>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  Save\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  className={classes.margin}\r\n                  onClick={this.toggleDrawer(false)}\r\n                >\r\n                  Close\r\n                </Button>\r\n              </form>\r\n            </Row>\r\n            <Row vertical='start'>\r\n              <IconButton color=\"secondary\" component=\"a\" target=\"_new\" href={currentBook.detailsURL} className={classes.icon} alt=\"more informations\">\r\n                <InfoIcon/>\r\n              </IconButton>\r\n            </Row>\r\n          </Column>\r\n        </Row>\r\n      </Column>\r\n      </Paper>\r\n      </main>\r\n    );\r\n    \r\n    return (\r\n      <div>\r\n        <Fade\r\n          in={loading}\r\n          style={{\r\n            transitionDelay: loading ? '600ms' : '0ms',\r\n          }}\r\n          unmountOnExit\r\n        >\r\n          <LinearProgress />\r\n        </Fade>\r\n        <GridList cellHeight={180} cols={this.getGridListCols()} spacing={1} className={classes.gridList}>\r\n          {books.map(book => (\r\n              <GridListTile key={book.uid} onClick={this.toggleDrawer(true, book)}>\r\n              <img src={book.imageURL} alt={book.title} />\r\n              <GridListTileBar\r\n              title={book.title}\r\n              subtitle={<span><span color=\"secondary\">{book.series}</span><span>{book.volume>0 ? \" - \" + book.volume : \"\"}</span></span>}\r\n              />\r\n            </GridListTile>\r\n          ))}\r\n        </GridList>\r\n        <Drawer style={{ backgroundColor: 'transparent' }} classes={{paper: classes.paper}} anchor=\"bottom\" open={this.state.drawerOpen} onClose={this.toggleDrawer(false)}>\r\n            {sideList}\r\n        </Drawer>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={this.state.showSuccess}\r\n          autoHideDuration={3000}\r\n          onClose={this.onSnackClose}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }} >\r\n          <SnackbarContent\r\n              className={classes.success}\r\n              aria-describedby=\"client-snackbar\"\r\n              message={<span id=\"message-id\"><CheckCircleIcon/>Changes saved</span>}\r\n              />\r\n        </Snackbar>\r\n        <Fab color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={this.startScan}>\r\n          <AddIcon />\r\n        </Fab>\r\n\r\n        <Dialog\r\n          open={this.state.scanning}\r\n          onClose={this.stopScan}\r\n          aria-labelledby=\"draggable-dialog-title\"\r\n          maxWidth=\"md\"\r\n        >\r\n          <DialogTitle id=\"draggable-dialog-title\">Scan a new book barcode</DialogTitle>\r\n          <DialogContent>\r\n            <Scanner onDetected={this.onDetected}/>\r\n            <ul className=\"results\">\r\n                    {this.state.results.map((result) => (<li key={result}>{result}</li>))}\r\n            </ul>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.stopScan} color=\"secondary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n  );\r\n  }\r\n}\r\n\r\n\r\nHomePage.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withWidth()(withStyles(styles)(withFirebase(withAuthorization(condition)(HomePage))));\r\n/*export default compose(\r\n  withFirebase(),\r\n  withStyles(styles),\r\n  withAuthorization(condition),\r\n  withWidth(),\r\n)(HomePage);*/","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          label=\"New Password\"\r\n        />\r\n        <TextField\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          label=\"Confirm New Password\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","import React, { Component } from 'react';\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport PasswordChangeForm from '../PasswordChange';\r\nimport { withAuthorization } from '../Session';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withFirebase } from '../Firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst AccountPage = () => (\r\n  <AuthUserContext.Consumer>\r\n    {authUser => (\r\n      <div>\r\n        <h1>Account:</h1>\r\n        <PasswordChangeForm />\r\n        <EmailChangeForm user={authUser}/>\r\n        <InformationsChangeForm />\r\n      </div>\r\n    )}\r\n  </AuthUserContext.Consumer>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  name: '',\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass InformationsChangeFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email, name: user.displayName });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { name } = this.state;\r\n\r\n    this.props.firebase\r\n    .doUpdateInformations(name)\r\n    .then(() => {\r\n      console.log({ ...INITIAL_STATE });\r\n      this.setState({ name: this.props.firebase.auth.currentUser.displayName });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { name, error } = this.state;\r\n\r\n    const isInvalid = name  === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          label=\"Alias\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Update\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nclass EmailChangeFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n    let auth = this.props.firebase.auth;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({ email: user.email });\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n    .doUpdateEmail(email)\r\n    .then(() => {\r\n      this.setState({ email: this.props.firebase.auth.currentUser.email });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error });\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, emailTwo, error } = this.state;\r\n\r\n    const isInvalid = !(/^.+@.+\\..+$/.test(email)) || email !== emailTwo;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <TextField\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"email\"\r\n          label=\"Your Account Email\"\r\n        />\r\n        <TextField\r\n          name=\"emailTwo\"\r\n          value={emailTwo}\r\n          onChange={this.onChange}\r\n          type=\"email\"\r\n          label=\"Confirm New Email\"\r\n        />        \r\n        <Button variant=\"contained\" color=\"primary\" disabled={isInvalid} type=\"submit\">\r\n          Update\r\n        </Button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst InformationsChangeForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(InformationsChangeFormBase);\r\n\r\nconst EmailChangeForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(EmailChangeFormBase);\r\n\r\nconst authCondition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(AccountPage);","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\n// All the following keys are optional.\r\n// We try our best to provide a great default value.\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: indigo,\r\n    secondary: red,\r\n    error: red,\r\n    // Used by `getContrastText()` to maximize the contrast between the background and\r\n    // the text.\r\n    contrastThreshold: 3,\r\n    // Used to shift a color's luminance by approximately\r\n    // two indexes within its tonal palette.\r\n    // E.g., shift from Red 500 to Red 300 or Red 700.\r\n    tonalOffset: 0.2,\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Navigation from '../Navigation';\r\nimport SignUpPage from '../SignUp';\r\nimport SignInPage from '../SignIn';\r\nimport PasswordForgetPage from '../PasswordForget';\r\nimport HomePage from '../Home';\r\nimport AccountPage from '../Account';\r\n// import AdminPage from '../Admin';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport theme from '../../constants/theme';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n// import CssBaseline from '@material-ui/core/CssBaseline';\r\nimport 'typeface-roboto';\r\n\r\n\r\n\r\nconst App = () => (\r\n    <Router>\r\n    <MuiThemeProvider theme={theme}>\r\n      <div>\r\n        <Navigation />\r\n        <div style={{ display: \"block\", height:\"63px\"}}>&nbsp;</div>\r\n        <Route exact path={ROUTES.HOME} component={HomePage} />\r\n        <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n        <Route path={ROUTES.SIGN_IN} component={SignInPage} />\r\n        <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\r\n        <Route path={ROUTES.ACCOUNT} component={AccountPage} />\r\n      </div>\r\n  </MuiThemeProvider>\r\n  </Router>\r\n  );\r\n// <Route path={ROUTES.ADMIN} component={AdminPage} />\r\n\r\nexport default withAuthentication(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}